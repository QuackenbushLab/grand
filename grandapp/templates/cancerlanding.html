{% load static %} 
{% include "header.html" %}

<div class="hidden">
<div class="row">
  <div class="col-5 offset-md-5 pt-4">
    <h3 class="text-secondary">{{ slug }} cancer networks</h1>
  </div>
</div>

<div class="row" id="main">
<div class="col-1 mt-5">
  <ul class="list-group">
    {% if slug == 'Colon' %}
    <a href="/cancers/Colon_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action active" aria-current="true">
      Colon cancer
      <span class="badge bg-secondary rounded-pill">2</span>
    </a>
    <a href="/cancers/Cervix_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Cervix cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Breast_cancer"  class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Breast cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Liver_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Liver cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Glioblastoma_cancer/" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Glio-blastoma
      <span class="badge bg-secondary rounded-pill">3</span>
    </a>
    {% elif slug == 'Cervix' %}
    <a href="/cancers/Colon_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Colon cancer
      <span class="badge bg-secondary rounded-pill">2</span>
    </a>
    <a href="/cancers/Cervix_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action active"  aria-current="true">
      Cervix cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Breast_cancer"  class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Breast cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Liver_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Liver cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Glioblastoma_cancer/" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Glio-blastoma 
      <span class="badge bg-secondary rounded-pill">3</span>
    </a>
    {% elif slug == 'Breast' %}
    <a href="/cancers/Colon_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Colon cancer
      <span class="badge bg-secondary rounded-pill">2</span>
    </a>
    <a href="/cancers/Cervix_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Cervix cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Breast_cancer"  class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action active"  aria-current="true">
      Breast cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Liver_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Liver cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Glioblastoma_cancer/" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Glio-blastoma
      <span class="badge bg-secondary rounded-pill">3</span>
    </a>
    {% elif slug == 'Liver' %}
    <a href="/cancers/Colon_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Colon cancer
      <span class="badge bg-secondary rounded-pill">2</span>
    </a>
    <a href="/cancers/Cervix_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Cervix cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Breast_cancer"  class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Breast cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Liver_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action active"  aria-current="true">
      Liver cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Glioblastoma_cancer/" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Glio-blastoma
      <span class="badge bg-secondary rounded-pill">3</span>
    </a>
    {% elif slug == 'Glioblastoma' %}
    <a href="/cancers/Colon_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Colon cancer
      <span class="badge bg-secondary rounded-pill">2</span>
    </a>
    <a href="/cancers/Cervix_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Cervix cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Breast_cancer"  class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Breast cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Liver_cancer" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action">
      Liver cancer
      <span class="badge bg-secondary rounded-pill">1</span>
    </a>
    <a href="/cancers/Glioblastoma_cancer/" class="list-group-item d-flex justify-content-between align-items-center list-group-item-light list-group-item-action active" aria-current="true">
      Glio-blastoma
      <span class="badge bg-secondary rounded-pill">3</span>
    </a>
    {% endif %}
  </ul>
</div>

<div class="col-10 mt-4 pb-4 mb-4">
  <div class="container row">
  <div class="col">
    <canvas id="scatterChart" width="50" height="30"></canvas>
    <p style="font-family: Helvetica; color: #333; padding: 1em 2em; font-size: 12px">
      To get the full list of phenotypic variables, please check the menu below.
    </p>
  </div>
  <div class="col">
    <canvas id="scatterChart2" width="50" height="30"></canvas>
  </div>
</div>
  <div class="accordion" id="accordionExample">
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingOne">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          Networks
        </button>
      </h2>
      <div id="collapseOne" class="accordion-collapse collapse " aria-labelledby="headingOne" data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <div class="container ">
        <div class="card ">
  <div class="card-body">
    <h5 class="card-title">Tool description</h5>
    <p class="card-text">{% if tool == 'panda' %}<a href="https://www.ncbi.nlm.nih.gov/pubmed/23741402">PANDA</a> reconstructs a gene regulatory network using TF PPI, TF DNA binding motif, and gene expression samples. <a href="https://www.sciencedirect.com/science/article/pii/S2589004219300872">LIONESS</a> reconstructs patient-specific <a href="https://www.ncbi.nlm.nih.gov/pubmed/23741402">PANDA</a> networks for each gene expression sample. 
			    To download patient-specific networks, you can check <a href='#cardtissuetcga'>the phenotypic information of the TCGA dataset</a> or <a href='#cardtissuegeo'>the phenotypic information of the GEO dataset</a>. You can also select the networks by
                            clinical variables or download all the samples in a single file. 
                            {% elif tool == 'otter' %}
                            Like <a href="https://www.ncbi.nlm.nih.gov/pubmed/23741402">PANDA</a>, <a href="https://www.biorxiv.org/content/10.1101/2020.06.23.167999v2">OTTER</a> reconstructs a gene regulatory network from the TF PPI, TF DNA binding motif, and gene expression samples. 
                            OTTER formulates network inference as a well-defined objective function that optimizes the graph matching of the three network priors. Check <a href='#cardtissuetcga'>the phenotypic information</a> for the clinical variables of the samples that were used to reconstruct the network.
                            {% endif %}</p>
        <table id="tissuestable" class="table table-hover" style="width: 100%">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Tissue</th>
                    <th scope="col">Tool</th>
                    <th scope="col">netZoo release</th>
                    <th scope="col">Network<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-animation="false"
                      data-bs-trigger="hover"
                      data-bs-placement="top"
                      title="Network format"
                      data-bs-content="Please refer to the Help page Network section for the network download formats. You can download the script to reproduce the network using the R button.">
                    </i></th>
                    <th scope="col">PPI<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      title="Data sources"
                      data-bs-content="Directly download the PPI prior used for the generation of the network and check the link to the original PPI database and its version.">
                    </i></th>
                    <th scope="col">Motif</th>
                    <th scope="col">Expression</th>
                    <th scope="col">TFs</th>
                    <th scope="col">Genes</th>
                    <th scope="col">Samples</th>
                    <th scope="col">Precision<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      title="Computation precision"
                      data-bs-content="S=Single, D=Double">
                    </i></th>
                    <th scope="col">Reference</th>
                  </tr>
                </thead>
                <tbody>
                 {% for tissue in cancerlanding %}
                    <tr>
                    <th scope="row">{{ forloop.counter }}</th>
                    <td><a href="{{ tissue.cancerLink }}" class="text-decoration-none">{{ tissue.cancer }}</a></td>
                    <td>{{ tissue.tool }}</td>
                    <td>{{ tissue.netzoo }} <a href="{{ tissue.netzooLink }}" class="text-decoration-none">{{ tissue.netzooRel }}</a></td>
                    <td><div class="btn-group" role="group" aria-label="Basic example"><a href="{{ tissue.network }}" class="btn btn-outline-primary" role="button">co</a> 
                    <a href="{{ tissue.script }}" class="btn btn-outline-danger" role="button">R</a></div></td>
                    <td><a href="{{ tissue.ppi }}"><i class="fas fa-download"></i></a> <a href="{{ tissue.ppiLink }}"><i class="fas fa-link"></i></a></td>
                    <td><a href="{{ tissue.motif }}"><i class="fas fa-download"></i></a></td>
                    <td><a href="{{ tissue.expression }}"><i class="fas fa-download"></i></a> <a href="{{ tissue.expLink }}"><i class="fas fa-link"></i></a></td>
                    <td>{{ tissue.tfs }}</td>
                    <td>{{ tissue.genes }}</td>
                    {% if tissue.tool == 'PANDA' %}
                    <td>{{ tissue.samples }}</td>
                    {% else %}
                    <td><a href="{{ tissue.cardref }}" class="text-decoration-none">{{ tissue.samples }}</a></td>
                    {% endif %}
                    <td><span class="badge rounded-pill bg-primary">D</span></td>
                    <td><a href="#"><i class="fas fa-book" data-bs-toggle="modal" data-bs-target="#exampleModal"></i></a></td>
                      <!-- Modal -->
                      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel">Publication</h5>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                              Please check the reference {{ tissue.refs2 }} at the following <a href="{{ tissue.refs }}">link</a>.
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </tr>
                 {% endfor %}
                </tbody>
              </table>
    </div>
</div>
          </div>
        </div>
      </div>
</div>

<div class="accordion-item">
  <h2 class="accordion-header" id="headingTwo">
    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" id="cardtissuetcga">
      Phenotypic information TCGA
    </button>
  </h2>
  <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
    <div class="accordion-body">
{% if tool == 'panda' %}
<div class="container ">
        <div class="card " id="cardtissuetcga">
  <div class="card-body">
    <h5 class="card-title">Variable description</h5>
    <p class="card-text">You can either download all the networks to get a matrix of size the number of samples by the number of edges. The number of edges
			    is 661 * 12817 (number of TFs * number of genes) (~ 10<sup>6</sup>). Otherwise, you can specify the sample network to download and you will get a TF-by-gene
                    matrix named after  the TCGA sample reference.</p>
        <div class="row pb-4">
          <div class="col-3">
            <canvas id="myPieChart" width="50" height="30"></canvas>   
          </div>
          <div class="col-3">
            <canvas id="myPieChartETH" width="50" height="30"></canvas>   
          </div>
          <div class="col-3">
            <canvas id="myPieChartAL" width="50" height="30"></canvas>   
          </div>
          <div class="col-3">
            <canvas id="myPieChartStage" width="50" height="30"></canvas>   
          </div>
        </div>
        <table id="tissuestabletcga" class="table table-hover" style="width: 100%">
                <thead>
                  <tr>
                    <th scope="col">Sample<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-placement="top"
                      data-bs-animation="false"
                      data-bs-content="Sample and platform ID">
                    </i></th>
                    <th scope="col">Gender</th>
                    <th scope="col">Race</th>
                    <th scope="col">Weight<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-animation="false"
                      data-bs-trigger="hover"
                      data-bs-placement="top"
                      data-bs-content="Weight at diagnosis (kg)">
                    </i></th>
                     <th scope="col">Height<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="Height at diagnosis (cm)">
                    </i></th>
                    <th scope="col">Age<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-animation="false"
                      data-bs-trigger="hover"
                      data-bs-placement="top"
                      data-bs-content="Age at initial pathologic diagnosis">
                    </i></th>
                    <th scope="col">Anatomic location<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="Anatomic neoplasm subdivision. Empty entries are either missing or due to discrepancy.">
                    </i></th>
                    <th scope="col">Stage<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="UICC stage">
                    </i></th>
                    <th scope="col">Time<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="Time to event (Death) in years">
                    </i></th>
                    <th scope="col">Vital status<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="0: Alive, 1: Dead">
                    </i></th>
                    <th scope="col">Network<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="Please refer to the Help page Network section for the network download formats">
                    </i></th>
                  </tr>
                </thead>
                <tfoot>
                  <tr>
                      <th>Sample</th>
                      <th>Gender</th>
                      <th>Race</th>
                      <th>Weight</th>
                      <th>Height</th>
                      <th>Age</th>
                      <th>Anatomic location</th>
                      <th>Stage</th>
                      <th>Time</th>
                      <th>Vital status</th>
                      <th>Network</th>
                  </tr>
                </tfoot>
                <tbody>
                 {% for tissue in tcgasample %}
                    <tr>
                    {% if tissue.sample == 'All' %}
                        <td>{{ tissue.sample }}</td>
                    {% else %}
                        <td>{{ tissue.sample }} <i class="fas fa-info-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      title="Platform ID"
                      data-bs-content="{{ tissue.platform }}">
                    </i></td>
                    {% endif %}
                    <td>{{ tissue.gender }}</td>
                    <td>{{ tissue.race }}</td>
                    <td>{{ tissue.weight_kg_at_diagnosis }}</td>
                    <td>{{ tissue.height_cm_at_diagnosis }}</td>
                    <td>{{ tissue.age_at_initial_pathologic_diagnosis }}</td>
                    <td>{{ tissue.anatomic_neoplasm_subdivision }}</td>
                    <td>{{ tissue.uicc_stage }}</td>
                    <td>{{ tissue.time_to_event }}</td>
                    <td>{{ tissue.vital_status }}</td>
                    {% if tissue.sample == 'All' %}
                        <td><a href="{{ tissue.link }}" class="btn btn-outline-primary" role="button">po</a><br><span class="badge rounded-pill bg-secondary"><small>{{ tissue.size }}</small></span></td>
                    {% else %}
                        <td><a href="{{ tissue.link }}" class="btn btn-outline-primary" role="button">co</a><br><span class="badge rounded-pill bg-light text-dark"><small>{{ tissue.size }}</small></span></td>
                    {% endif %}
                 {% endfor %}
                </tbody>
              </table>
</div>
</div>
</div>
{% elif tool == 'otter' %}
  <div class="card " id="cardtissuetcga">
    <div class="card-body">
      <h5 class="card-title">Variable description</h5>
        <p class="card-text">This is a description of the primary clinical variables of the gene expression samples that were used to generate the gene regulatory network.</p>
        <div class="row pb-4">
          <div class="col-3">
            <canvas id="myPieChart" width="50" height="30"></canvas>   
          </div>
          <div class="col-3">
            <canvas id="myPieChartETH" width="50" height="30"></canvas>   
          </div>
          <div class="col-3">
            <canvas id="myPieChartAL" width="50" height="30"></canvas>   
          </div>
          <div class="col-3">
            <canvas id="myPieChartStage" width="50" height="30"></canvas>   
          </div>
        </div>
          <table id="tissuestabletcga" class="table table-hover" style="width: 100%">
                  <thead>
                    <tr>
                      <th scope="col">Sample<br><i class="far fa-question-circle"
                        data-bs-toggle="popover"
                        data-bs-trigger="hover"
                        data-bs-animation="false"
                        data-bs-placement="top"
                        data-bs-content="Sample ID">
                      </i></th>
                      <th scope="col">Gender</th>
                      <th scope="col">Race</th>
                      <th scope="col">Ethnicity</th>
                      <th scope="col">Weight<br><i class="far fa-question-circle"
                        data-bs-toggle="popover"
                        data-bs-trigger="hover"
                        data-bs-animation="false"
                        data-bs-placement="top"
                        data-bs-content="Weight at diagnosis (kg)">
                      </i></th>
                       <th scope="col">Height<br><i class="far fa-question-circle"
                        data-bs-toggle="popover"
                        data-bs-trigger="hover"
                        data-bs-animation="false"
                        data-bs-placement="top"
                        data-bs-content="Height at diagnosis (cm)">
                      </i></th>
                      <th scope="col">Age<br><i class="far fa-question-circle"
                        data-bs-toggle="popover"
                        data-bs-trigger="hover"
                        data-bs-animation="false"
                        data-bs-placement="top"
                        data-bs-content="Age at initial pathologic diagnosis">
                      </i></th>
                      <th scope="col">Anatomic location<br><i class="far fa-question-circle"
                        data-bs-toggle="popover"
                        data-bs-trigger="hover"
                        data-bs-animation="false"
                        data-bs-placement="top"
                        data-bs-content="Empty entries are either missing or due to discrepancy.">
                      </i></th>
                      <th scope="col">Diagnosis<i class="far fa-question-circle"
                        data-bs-toggle="popover"
                        data-bs-trigger="hover"
                        data-bs-animation="false"
                        data-bs-placement="top"
                        data-bs-content="ICD code">
                      </i></th>
                      <th scope="col">Stage<br><i class="far fa-question-circle"
                        data-bs-toggle="popover"
                        data-bs-trigger="hover"
                        data-bs-animation="false"
                        data-bs-placement="top"
                        data-bs-content="Cancer stage">
                      </i></th>
                      <th scope="col">Time<br><i class="far fa-question-circle"
                        data-bs-toggle="popover"
                        data-bs-trigger="hover"
                        data-bs-animation="false"
                        data-bs-placement="top"
                        data-bs-content="Time to event (Death) in days">
                      </i></th>
                      <th scope="col">Vital status</th>
                    </tr>
                  </thead>
                  <tbody>
                   {% for tissue in tcgasample %}
                      <tr>
                      {% if tissue.sample == 'All' %}
                          <td>{{ tissue.sample }}</td>
                      {% else %}
                          <td>{{ tissue.sample }}</td>
                      {% endif %}
                      <td>{{ tissue.gender }}</td>
                      <td>{{ tissue.race }}</td>
                      <td>{{ tissue.ethnicity }}</td>
                      <td>{{ tissue.weight_kg_at_diagnosis }}</td>
                      <td>{{ tissue.height_cm_at_diagnosis }}</td>
                      <td>{{ tissue.age_at_initial_pathologic_diagnosis }}</td>
                      <td>{{ tissue.primary_site }}</td>
                      <td>{{ tissue.primary_diagnosis }}</td>
                      <td>{{ tissue.uicc_stage }}</td>
                      <td>{{ tissue.time_to_event }}</td>
                      <td>{{ tissue.vital_status }}</td>
                   {% endfor %}
                  </tbody>
                </table>
  </div>
  </div>

{% endif %}
</div>
    </div>
  </div>
</div>

{% if geo == 'yes' %}
<div class="accordion-item">
  <h2 class="accordion-header">
    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree"  id="cardtissuegeo">
      Phenotypic information GEO
    </button>
  </h2>
  <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
    <div class="accordion-body">
<div class="container">
        <div class="card">
  <div class="card-body">
    <h5 class="card-title">Variable description</h5>
    <p class="card-text">You can either download all the networks to get a matrix of size the number of samples by the number of edges. The number of edges
			    is 661 * 12817 (number of TFs * number of genes) (~ 10<sup>6</sup>). Otherwise, you can specify the sample network to download and you will get a TF-by-gene
            		    matrix named after  the GEO sample reference.</p>
        <table id="tissuestablegeo" class="table table-hover" style="width: 100%">
                <thead>
                  <tr>
                    <th scope="col">Sample</th>
                    <th scope="col">Gender</th>
                    <th scope="col">Race</th>
                    <th scope="col">GEO ID</th>
                    <th scope="col">Age <br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="Age at initial pathologic diagnosis">
                    </i></th>
                    <th scope="col">Anatomic location <br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-animation="false"
                      data-bs-trigger="hover"
                      data-bs-placement="top"
                      data-bs-content="Anatomic neoplasm subdivision">
                    </i></th>
                    <th scope="col">Stage <br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="UICC stage">
                    </i></th>
                    <th scope="col">Time <br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="Time to event (Death)">
                    </i></th>
                    <th scope="col">Vital status<br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="0: Alive, 1: Dead">
                    </i></th>
                    <th scope="col">Network <br><i class="far fa-question-circle"
                      data-bs-toggle="popover"
                      data-bs-trigger="hover"
                      data-bs-animation="false"
                      data-bs-placement="top"
                      data-bs-content="Please refer to the Help page Network section for the network download formats">
                    </i></th>
                  </tr>
                </thead>
                <tbody>
                 {% for tissue in geosample %}
                    <tr>
                    <td>{{ tissue.sample }}</td>
                    <td>{{ tissue.gender }}</td>
                    <td>{{ tissue.race }}</td>
                    <td>{{ tissue.geoid }}</td>
                    <td>{{ tissue.age_at_initial_pathologic_diagnosis }}</td>
                    <td>{{ tissue.tumor_location }}</td>
                    <td>{{ tissue.uicc_stage }}</td>
                    <td>{{ tissue.time_to_event }}</td>
                    <td>{{ tissue.vital_status }}</td>
                    {% if tissue.sample == 'All' %}
                        <td><a href="{{ tissue.link }}" class="btn btn-outline-primary" role="button">po</a><br><span class="badge rounded-pill bg-secondary"><small>{{ tissue.size }}</small></span></td>
                    {% else %}
                        <td><a href="{{ tissue.link }}" class="btn btn-outline-primary" role="button">co</a><br><span class="badge rounded-pill bg-light text-dark"><small>{{ tissue.size }}</small></span></td>
                    {% endif %}
                 {% endfor %}
                </tbody>
              </table>
</div>
</div>
</div>
</div>
</div>
</div>
{% endif %}

</div>
</div>

</div>
</div>

<div class="hidden">
{% include "footer.html" %}
</div>

<script>
// Basic example
$(document).ready(function() {
      // Setup - add a text input to each footer cell
      $('#tissuestabletcga tfoot th').each( function () {
        var title = $(this).text();
        $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
    } );

    //datatables
    $('#tissuestable').DataTable({
     "serverSide": false,
     "processing": true,
            "dom": "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-5'f>>" +
             "<'row'<'col-sm-12'tr>>" +
             "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",
    });

    $('#tissuestablegeo').DataTable({
     "serverSide": false,
     "processing": true,
     
            "dom": "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-5'f>>" +
             "<'row'<'col-sm-12'tr>>" +
             "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",
    });

    var table = $('#tissuestabletcga').DataTable({
     "serverSide": false,
     "processing": true,
     
      "dom": "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-5'>>" +
      "<'row'<'col-sm-12'tr>>" +
      "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",

      initComplete: function () {
      // Apply the search
      this.api().columns().every( function () {
      var that = this;
 
      $( 'input', this.footer() ).on( 'keyup change clear', function () {
         if ( that.search() !== this.value ) {
            that
            .search( this.value )
            .draw();
          }
        } );
      } );
        }
    });

} );
</script>

<script>var slug = "{{ slug }}";</script>
{% if slug == 'Colon' %}
  <script> var dataurl = "{% static 'data/clinical_tcga.csv' %}";</script>
{% elif slug == 'Liver' %}
  <script> var dataurl = "{% static 'data/metadata_liver_01232021.csv' %}";</script>
{% elif slug == 'Cervix' %}
  <script> var dataurl = "{% static 'data/metadata_cervix_01232021.csv' %}";</script>
{% elif slug == 'Breast' %}
  <script> var dataurl = "{% static 'data/metadata_breast_01292021.csv' %}";</script>
{% endif %}

<script src="{% static 'js/scatterChart.js' %}"></script>
<script src="{% static 'js/pieChart.js' %}"></script>

<script>
  $(document).ready(function () {
    $('div.hidden').fadeIn(300).removeClass('hidden');
});
</script>

</body>
</html>