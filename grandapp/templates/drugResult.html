{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}"/>
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <title>GRAND</title>
</head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151168345-1');
</script>
<body>

<!-- Header -->
<nav class="navbar bg-dark navbar-dark navbar-expand-sm">
  <div class="container">
      <a class="navbar-brand m-0" href="/">
          <img src="{% static 'images/logo.svg' %}" style="width: 400px;">
      </a>
      <div class="navbar-nav">
          <a class="nav-item nav-link active" href="/">Home</a>
          <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="index.html">Networks</a>
          <div class="dropdown-menu">
            <a href="/drugs" class="dropdown-item">Small molecules</a>
            <a href="/cell" class="dropdown-item">Cell lines</a>
            <a href="/tissues" class="dropdown-item">Tissues</a>
          </div>
        </li>
          <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Analysis</a>
          <div class="dropdown-menu">
            <a href="/analysis" class="dropdown-item">Small molecules</a>
            <a href="/disease" class="dropdown-item">Disease/Tissues</a>
          </div>
        </li>
          <a class="nav-item nav-link" href="/help">Help</a>
          <a class="nav-item nav-link" href="/about">Contact</a>
          <a class="nav-item nav-link" href="download">Download</a>
          <a class="nav-item nav-link" href="https://github.com/QuackenbushLab/grand"><i class="fab fa-github fa-lg"></i></a>
      </div>
  </div>
</nav>

<!-- Footer -->
<nav class="navbar navbar-dark navbar-expand-sm fixed-bottom bg-dark">
  <div class="container">
      <a class="navbar-brand m-0" href="https://www.hsph.harvard.edu/biostatistics/">
          <img src="{% static 'images/footer-01.svg' %}" style="width: 400px;">
      </a>
      <div class="navbar-nav navbar-expand-sm">
          <a class="nav-item nav-link" href="https://twitter.com/intent/tweet?text=GRAND: Integrated gene regulatory network database of cell lines, tissues, and small molecules. http://grand.tm4.org"><i class="fab fa-twitter-square fa-2x"></i></a>
          <a class="nav-item nav-link" href="http://www.facebook.com/sharer/sharer.php?u=http://hsph.harvard.edu"><i class="fab fa-facebook-square fa-2x"></i></a>
          <a class="nav-item nav-link" href="https://www.linkedin.com/sharing/share-offsite/?url=http://hsph.harvard.edu"><i class="fab fa-linkedin fa-2x"></i></a>
          <a class="nav-item nav-link" href="mailto:aa@aa.com"><i class="fas fa-envelope-square fa-2x"></i></a>
          <a class="nav-item nav-link" href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons fa-2x"></i></a>
      </div>
  </div>
</nav>

<div class="container alert alert-info alert-dismissible fade show col-9">
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>

<h4 class="alert-heading">Submission stats</h4>
<p class="mb-1">
        {{ params.0.genesup }}/{{ params.0.genesupin }} entries are valid gene IDs in the up set.
        {{ params.0.genesdown }}/{{ params.0.genesdownin }} entries are valid gene IDs in the down set.
        </p>
</div>
<div class="container col-9 pb-5 mb-5">
             &nbsp; <div class="row lm-6">
             <div class="col-xs-6">
             &nbsp; &nbsp;
             </div>
            <div class="col-xs-6">
            <h3><span class="badge badge-primary">Reverse</span></h3>
            </div>
           <div class="col-xs-6">
         &nbsp; <i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Top 100 compounds that have a reverse profile with the query set.">
                    </i>
            </div>
         </div>

        <table id="drugstbl2" class="table table-hover" style="width: 100%">
                <thead>
                  <tr>
                    <th scope="col">Drug</th>
                    <th scope="col">Overlap <i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="The overlap score was computed as in Zhong et al., JASN, 2013.">
                    </i></th>
                    <th scope="col">Cosine <i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Cosine similarity between the input vector and top 100 compounds. A cosine of 1 indicates a perfect alignment in the direction of the vectors and -1 means an opposite direction of 
                      the vectors in the n-dimensional gene space. See also Duan et al., NPJ Sys Biol Appl, 2016.">
                    </i></th>
                  </tr>
                </thead>
         </table>
</div>

<div class="container col-9 pb-5 mb-5">
             &nbsp; <div class="row lm-6">
             <div class="col-xs-6">
             &nbsp; &nbsp;
             </div>
            <div class="col-xs-6">
            <h3><span class="badge badge-danger">Similar</span></h3>
            </div>
         <div class="col-xs-6">
         &nbsp; <i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Top 100 compounds that have a similar profile with the query set.">
                    </i>
            </div>
         </div>
        <table id="drugstbl1" class="table table-hover" style="width: 100%">
                <thead>
                  <tr>
                    <th scope="col">Drug</th>
                    <th scope="col">Overlap <i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="The overlap score was computed as in Zhong et al., JASN, 2013.">
                    </i></th>
                    <th scope="col">Cosine <i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Cosine similarity between the input vector and top 100 compounds. A cosine of 1 indicates a perfect alignment in the direction of the vectors and -1 means an opposite direction of
                      the vectors in the n-dimensional gene space. See also Duan et al., NPJ Sys Biol Appl, 2016.">
                    </i></th>
                  </tr>
                </thead>
         </table>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css"></script>
<script src="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css"></script>
<script src="https://kit.fontawesome.com/a076d05399.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
<script src="{% static 'js/popper.min.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<script src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.flash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.print.min.js"></script>
<script>
$(function () {
  $('[data-toggle="popover"]').popover();
})

// Basic example
$(document).ready(function() {
    //datatables
    $('#drugstbl1').DataTable({
      "ajax": "http://localhost:8000/api/v1/drugresultup/?query={{ apiid }}&format=datatables",
      "processing": true,
      "serverSide": true,
      "order": [[ 1, "asc" ]],
      "columns": [
          {"data": "drug"},
          {"data": "overlap"},
          {"data": "cosine"},
      ],

     buttons: [
            'copy', 'csv', 'pdf', 'print'
        ],

      "dom": "B" + "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>>" +
             "<'row'<'col-sm-12'tr>>" +
             "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-4'p>>",
    });

    $('#drugstbl2').DataTable({
      "ajax": "http://localhost:8000/api/v1/drugresultdown/?query={{ apiid }}&format=datatables",
      "processing": true,
      "serverSide": true,
      "order": [[ 1, "desc" ]],
      "columns": [
          {"data": "drug"},
          {"data": "overlap"},
          {"data": "cosine"},
      ],
      
      buttons: [
            'copy', 'csv', 'pdf', 'print'
        ],

      "dom": "B" + "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>>" +
             "<'row'<'col-sm-12'tr>>" +
             "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-4'p>>",
    });
} );
</script>



</body>
</html>


