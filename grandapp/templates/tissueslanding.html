{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}"/>
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sp-1.0.1/sl-1.3.1/datatables.min.css"/>
  <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
  <title>GRAND</title>
</head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151168345-1');
</script>
<body class="d-flex flex-column min-vh-100">
<div class="wrapper flex-grow-1">

{% load widget_tweaks %}

<!-- Header -->
<nav class="navbar bg-dark navbar-dark navbar-expand-sm">
  <div class="container">
      <a class="navbar-brand m-0" href="/">
          <img src="{% static 'images/logo.svg' %}" style="width: 400px;">
      </a>
      <div class="navbar-nav">
          <a class="nav-item nav-link active" href="/">Home</a>
          <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="index.html">Networks</a>
            <div class="dropdown-menu">
              <a href="/drugs" class="dropdown-item">Small molecules</a>
              <a href="/cancers" class="dropdown-item">Cancer</a>
              <a href="/tissues" class="dropdown-item">Tissues</a>
              <a href="/cell" class="dropdown-item">Cell lines</a>
            </div>
        </li>
           <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Analysis</a>
          <div class="dropdown-menu">
            <a href="/analysis" class="dropdown-item">CLUEreg</a>
            <a href="/disease" class="dropdown-item">Disease/Tissues</a>
          </div>
        </li>
          <a class="nav-item nav-link" href="/help">Help</a>
          <a class="nav-item nav-link" href="/about">Contact</a>
          <a class="nav-item nav-link" href="/download">Download</a>
          <a class="nav-item nav-link" href="https://github.com/QuackenbushLab/grand"><i class="fab fa-github fa-lg"></i></a>
      </div>
  </div>
</nav>

<div class="container col-10 mt-4">
    <div class="card">
        <h5 class="card-header">Networks</h5>
            <div class="card-body">
            <h5 class="card-title">Tool description</h5>
            <p class="card-text"><a href="https://pubmed.ncbi.nlm.nih.gov/23741402/">PANDA</a> reconstructs a gene regulatory network using TF PPI, TF DNA binding motif, and gene expression samples. 
			   {% if name == 'yes' %} <a href="https://www.sciencedirect.com/science/article/pii/S2589004219300872">LIONESS</a> reconstructs patient-specific <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3669401/">PANDA</a> networks for each gene expression sample. To download sample-specific networks, you can check <a href='#cardtissue'>the phenotypic information</a> and select the networks by
                            clinical variables or download all the samples in a single file. {% else %} Check <a href='#cardtissue'>the phenotypic information</a> for the clinical variables of the samples that were used to reconstruct the network. {% endif %}</p>
             <table id="tissuestable" class="table table-hover" style="width: 100%">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Tissue</th>
                    <th scope="col">Tool</th>
                    <th scope="col">netZoo release</th>
                    <th scope="col">Network <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      title="Network format"
                      data-content="Please refer to the Help page Network section for the network download formats.">
                    </i></th>
                    <th scope="col">PPI <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      title="Data sources"
                      data-content="Directly download the PPI prior used for the generation of the network and check the link to the original PPI database and its version.">
                    </i></th>
                    <th scope="col">Motif</th>
                    <th scope="col">Expression</th>
                    <th scope="col">TFs</th>
                    <th scope="col">Genes</th>
                    <th scope="col">Samples</th>
                    <th scope="col">Precision<br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      title="Computation precision"
                      data-content="S=Single, D=Double">
                    </i></th>
                    <th scope="col">Reference</th>
                  </tr>
                </thead>
                <tbody>
                 {% for tissue in tissuelanding %}
                    <tr>
                    <th scope="row">{{ forloop.counter }}</th>
                    <td><a href="{{ tissue.tissueLink }}">{{ tissue.tissue }}</a></td>
                    {% if tissue.tool == 'LIONESS' %}
                        <td>PANDA-{{ tissue.tool }}</td>
                    {% else %}
                        <td>{{ tissue.tool }}</td>
                    {% endif %}
                    <td>{{ tissue.netzoo }} <a href="{{ tissue.netzooLink }}">{{ tissue.netzooRel }}</a></td>
                    {% if tissue.tool == 'LIONESS' %}
                    <td><a class="btn btn-outline-primary" role="button"  href="#cardtissue" role="button">co</a></td>
                    {% else %}
                    <td><a href="{{ tissue.network }}" class="btn btn-outline-primary" role="button">co</a></td>
                    {% endif %}
                    <td><a href="{{ tissue.ppi }}"><i class="fas fa-download"></i></a> <a href="{{ tissue.ppiLink }}"><i class="fas fa-link"></i></a></td>
                    <td><a href="{{ tissue.motif }}"><i class="fas fa-download"></i></a></td>
                    <td><a href="{{ tissue.expression }}"><i class="fas fa-download"></i></a> <a href="{{ tissue.expLink }}"><i class="fas fa-link"></i></a></td>
                    <td>{{ tissue.tfs }}</td>
                    <td>{{ tissue.genes }}</td>
                    <td><a href="#cardtissue">{{ tissue.samples }}</a></td>
                    <td><span class="badge badge-pill badge-primary">D</span></td>
                    {% if tissue.tool == 'LIONESS' %}
                        <td><a href="{{ tissue.refs }}"><i class="fas fa-book"></i></a></td>
                    {% else %}
                        <td><a href="{{ tissue.refs }}"><i class="fas fa-book"></i></a> <a href="{{ tissue.refs2 }}"><i class="fas fa-book"></i></a></td>
                    {% endif %}
                    </tr>
                 {% endfor %}
                </tbody>
              </table>
        </div>
    </div>
</div>

<div class="container col-10 pb-4 mt-4">
    <div class="card" id="cardtissue">
        <h5 class="card-header">Phenotypic information</h5>
            <div class="card-body">
            <h5 class="card-title">Variable description</h5>
            <p class="card-text">{% if name == 'yes' %}You can either download all the networks to get a matrix of size the number of samples by the number of edges. The number of edges
			    is 644 * 30243 (number of TFs * number of genes) (~ 10<sup>6</sup>). Otherwise, you can specify the sample network to download and you will get a TF-by-gene
            		    matrix named after  the GTEx sample reference {% else %} This is a description of the primary clinical variables of the gene expression samples that were used to generate the gene regulatory network. {% endif %}.</p>
            <table id="tissuestable2" class="table table-hover" style="width: 100%">
                <thead>
                  <tr>
                    <th scope="col">Sample</th>
                    <th scope="col">Subject</th>
                    <th scope="col">Gender <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="1=Male, 2=Female">
                    </i></th>
                    <th scope="col">Age</th>
                    <th scope="col">DTH-HRDY <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Hardy scale">
                    </i></th>
                    <th scope="col">SMAT-SSCR <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Autolysis Score">
                    </i></th>
                    <th scope="col">SMRIN <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="RIN Number">
                    </i></th>
                    <th scope="col">SMTS <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Tissue Type, area from which the tissue sample was taken">
                    </i></th>
                    <th scope="col">SMTSD <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Tissue Type, more specific detail of tissue type">
                    </i></th>
                    <th scope="col">SMUBRID <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Uberon ID, anatomical location as described by the Uber Anatomy Ontology (UBERON)">
                    </i></th>
                    <th scope="col">SMTSISCH <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Total Ischemic time for a sample in 4 hour intervals">
                    </i></th>
                    {% if name == 'yes' %}
                    <th scope="col">Network <br><i class="far fa-question-circle"
                      data-toggle="popover"
                      data-trigger="hover"
                      data-placement="top"
                      data-content="Please refer to the Help page Network section for the network download formats">
                    </i></th>
                    {% endif %}
                  </tr>
                </thead>
                <tbody>
                 {% for tissue in tissuesample %}
                    <tr>
                    <td>{{ tissue.sampleid }}</td>
                    <td>{{ tissue.subjectid }}</td>
                    <td>{{ tissue.gender }}</td>
                    <td>{{ tissue.age }}</td>
                    <td>{{ tissue.dthhrdy }}</td>
                    <td>{{ tissue.smatsscr }}</td>
                    <td>{{ tissue.smrin }}</td>
                    <td>{{ tissue.smts }}</td>
                    <td>{{ tissue.smtsd }}</td>
                    <td>{{ tissue.smubrid }}</td>
                    <td>{{ tissue.smtsisch }}</td>
                    {% if name == 'yes' %}
                    {% if tissue.sampleid == 'All' %}
                        <td><a href="{{ tissue.link }}" class="btn btn-outline-primary" role="button">po</a><br><span class="badge badge-pill badge-secondary"><small>{{ tissue.size }}</small></span></td>
                    {% else %}
                        <td><a href="{{ tissue.link }}" class="btn btn-outline-primary" role="button">co</a><br><span class="badge badge-pill badge-light"><small>{{ tissue.size }}</small></span></td>
                    {% endif %}
                    {% endif %}
                 {% endfor %}
                </tbody>
              </table>
        </div>
    </div>
</div>

</div>

<!-- Footer -->
<footer class="page-footer font-small lighten-3 pt-4">
  <div class="container text-center text-md-left">
    <div class="row">
      <div class="col-md-6 col-lg-6">
        <h6 class="text-uppercase mb-2">Contact</h6>
        <p><a href="https://www.hsph.harvard.edu/biostatistics/">Department of Biostatistics</a>
        <br><a href="https://www.hsph.harvard.edu/">Harvard T.H. Chan School of Public Health</a></p>
      </div>
      <div class="col-md-5 col-lg-5">
        <!-- Social buttons -->
        <h6 class="text-uppercase mb-2">License</h6>
        <a class="nav-item nav-link" href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons fa-2x"></i></a>
      </div>
      <div class="col-md-1 col-lg-1">
        <h6 class="text-uppercase mb-2">Share</h6>
        <!-- Facebook -->
        <a href="http://www.facebook.com/sharer/sharer.php?u=http://hsph.harvard.edu" type="button" class="btn-floating btn-fb">
          <i class="fab fa-facebook-square fa-2x"></i>
        </a>
        <!-- Twitter -->
        <a type="button" class="btn-floating btn-fb" href="https://twitter.com/intent/tweet?text=GRAND: Integrated gene regulatory network database of cell lines, tissues, and small molecules. https://grand.networkmedicine.org">
          <i class="fab fa-twitter-square fa-2x"></i>
        </a>
       <!-- Linkedin -->
        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://grand.networkmedicine.org" type="button" class="btn-floating btn-fb">
          <i class="fab fa-linkedin fa-2x"></i>
        </a>
        <a href="/about" type="button" class="btn-floating btn-fb">
          <i class="fas fa-envelope-square fa-2x"></i>
        </a>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css"></script>
<script src="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css"></script>
<script src="https://kit.fontawesome.com/a076d05399.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sp-1.0.1/sl-1.3.1/datatables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
<script src="{% static 'js/popper.min.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>

<script>
$(function () {
  $('[data-toggle="popover"]').popover();
})

// Basic example
$(document).ready(function() {
    //datatables
    $('#tissuestable').DataTable({
            "dom": "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-5'f>>" +
             "<'row'<'col-sm-12'tr>>" +
             "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",
    });

    $('#tissuestable2').DataTable({
            "dom": "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-5'f>>" +
             "<'row'<'col-sm-12'tr>>" +
             "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",
    });

} );
</script>
</body>
</html>


